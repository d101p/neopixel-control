
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
       "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
  <title>Color Wheel Demo</title>
	<script src="//code.jquery.com/jquery-2.1.0.min.js" type="text/javascript"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/raphael/2.1.2/raphael-min.js" type="text/javascript"></script>
  <script src="./bower_components/colorwheel/colorwheel.js" type="text/javascript"></script>

</head>

<body>
      <div id="callback_example">
        <div style="float:center; width:100%">
          <div class="colorwheel_large" style="text-align:left; float:center;margin-right:30px;"></div>
        </div>
        <code><pre class="source"></pre></code>
      </div>

<script>

function set_source(f, target){
    f();
//    target.text(f.toString())
}

function callback_example(){
  var xhttp = new XMLHttpRequest();
  var cw = Raphael.colorwheel($("#callback_example .colorwheel_large")[0],350, 300)
  cw.color("#F00");

  function start(){console.log("START")}
  function stop(color) {
      console.log(color.hex.substring(1))
      xhttp.open("POST", '/', true);
      xhttp.send(color.hex.substring(1).toUpperCase())
  }

  cw.ondrag(start, stop);
}

$(document).ready(function(){
    set_source(callback_example, $("#callback_example .source"))
})

    </script>

</body>
</html>

